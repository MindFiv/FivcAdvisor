# Architecture & Patterns

## Flows
- Use CrewAI Flow decorators: `@start`, `@listen`, `@router`
- State held in Pydantic models (e.g., `DefaultFlowState`)
- Assess → route → execute pattern in `flows/default.py`

## Agents / Tasks / Tools
- Agent factories in `agents.py`
- Task factories in `tasks.py`
- Tools re-exported from `crewai_tools` via `tools/__init__.py`

## File Placement Rules
- New flows: `src/crewai_hatchery/flows/<name>.py` and export in `flows/__init__.py`
- Agent factories: `src/crewai_hatchery/agents.py`
- Task factories: `src/crewai_hatchery/tasks.py`
- LLM config/variants: `src/crewai_hatchery/llms.py`
- Utilities and shared models: `src/crewai_hatchery/utils/`
- CLI commands: `src/crewai_hatchery/cli.py`
- Tests mirror source; mock external calls
